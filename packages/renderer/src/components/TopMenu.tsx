import React, { useState } from 'react';\n\ninterface TopMenuProps {\n  onShowConfig: () => void;\n  onRefreshStatus: () => void;\n  systemStatus: any;\n}\n\nexport function TopMenu({ onShowConfig, onRefreshStatus, systemStatus }: TopMenuProps) {\n  const [showDropdown, setShowDropdown] = useState<string | null>(null);\n  \n  /**\n   * ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¡¨ç¤º/éè¡¨ç¤º\n   */\n  const toggleDropdown = (menuName: string) => {\n    setShowDropdown(showDropdown === menuName ? null : menuName);\n  };\n  \n  /**\n   * ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‰ã˜ã‚‹\n   */\n  const closeDropdown = () => {\n    setShowDropdown(null);\n  };\n  \n  /**\n   * ãƒ˜ãƒ«ãƒ—ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º\n   */\n  const showHelp = () => {\n    alert(`AutoEditTATE v1.0.0\\n\\nAI-powered automatic video editing system for SNS content.\\n\\nFeatures:\\nâ€¢ Relative Dynamism Analysis\\nâ€¢ Time-based Matching Strategy\\nâ€¢ 30% Change Rule Validation\\nâ€¢ 3 Edit Pattern Generation\\n\\nFor more information, visit the documentation.`);\n    closeDropdown();\n  };\n  \n  /**\n   * ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã‚’è¡¨ç¤º\n   */\n  const showSystemInfo = () => {\n    if (!systemStatus) {\n      alert('System status not available');\n      return;\n    }\n    \n    const components = Object.entries(systemStatus.components || {})\n      .map(([name, status]) => `${name}: ${status ? 'OK' : 'Error'}`)\n      .join('\\n');\n    \n    const memoryMB = (systemStatus.memory?.used || 0) / (1024 * 1024);\n    const uptimeMin = Math.floor((systemStatus.uptime || 0) / 60);\n    \n    alert(`System Information\\n\\nVersion: ${systemStatus.version || 'v1.0.0'}\\nMemory Usage: ${memoryMB.toFixed(1)} MB\\nUptime: ${uptimeMin} minutes\\n\\nComponents:\\n${components}`);\n    closeDropdown();\n  };\n  \n  /**\n   * å¤–éƒ¨ãƒªãƒ³ã‚¯ã‚’é–‹ãï¼ˆElectronã®å ´åˆï¼‰\n   */\n  const openExternalLink = (url: string) => {\n    if (window.electronAPI) {\n      // Electronã‚¢ãƒ—ãƒªã®å ´åˆã€å¤–éƒ¨ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã\n      // å®Ÿéš›ã®å®Ÿè£…ã§ã¯shell.openExternalã‚’ä½¿ç”¨\n      console.log('Opening external link:', url);\n    } else {\n      // Webã‚¢ãƒ—ãƒªã®å ´åˆ\n      window.open(url, '_blank');\n    }\n    closeDropdown();\n  };\n  \n  return (\n    <div className=\"top-menu\">\n      {/* ãƒ­ã‚´ãƒ»ã‚¿ã‚¤ãƒˆãƒ« */}\n      <div className=\"menu-brand\">\n        <span className=\"brand-icon\">ğŸ¬</span>\n        <span className=\"brand-text\">AutoEditTATE</span>\n        <span className=\"brand-version\">v1.0.0</span>\n      </div>\n      \n      {/* ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›® */}\n      <div className=\"menu-items\">\n        {/* File Menu */}\n        <div className=\"menu-item\">\n          <button \n            className=\"menu-button\"\n            onClick={() => toggleDropdown('file')}\n          >\n            File\n          </button>\n          \n          {showDropdown === 'file' && (\n            <div className=\"dropdown-menu\">\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">ğŸ“„</span>\n                Import XML Project\n                <span className=\"item-shortcut\">Ctrl+O</span>\n              </button>\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">ğŸµ</span>\n                Import Audio File\n                <span className=\"item-shortcut\">Ctrl+Shift+A</span>\n              </button>\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">ğŸ¬</span>\n                Import Video File\n                <span className=\"item-shortcut\">Ctrl+Shift+V</span>\n              </button>\n              <div className=\"dropdown-separator\" />\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">ğŸ“¥</span>\n                Export Results\n                <span className=\"item-shortcut\">Ctrl+E</span>\n              </button>\n            </div>\n          )}\n        </div>\n        \n        {/* Process Menu */}\n        <div className=\"menu-item\">\n          <button \n            className=\"menu-button\"\n            onClick={() => toggleDropdown('process')}\n          >\n            Process\n          </button>\n          \n          {showDropdown === 'process' && (\n            <div className=\"dropdown-menu\">\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">â–¶ï¸</span>\n                Start Analysis\n                <span className=\"item-shortcut\">Ctrl+R</span>\n              </button>\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">â¹ï¸</span>\n                Stop Processing\n                <span className=\"item-shortcut\">Ctrl+.</span>\n              </button>\n              <div className=\"dropdown-separator\" />\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">ğŸ”</span>\n                Run QA Validation\n                <span className=\"item-shortcut\">Ctrl+T</span>\n              </button>\n            </div>\n          )}\n        </div>\n        \n        {/* Tools Menu */}\n        <div className=\"menu-item\">\n          <button \n            className=\"menu-button\"\n            onClick={() => toggleDropdown('tools')}\n          >\n            Tools\n          </button>\n          \n          {showDropdown === 'tools' && (\n            <div className=\"dropdown-menu\">\n              <button className=\"dropdown-item\" onClick={() => { onShowConfig(); closeDropdown(); }}>\n                <span className=\"item-icon\">âš™ï¸</span>\n                Settings\n              </button>\n              <button className=\"dropdown-item\" onClick={() => { onRefreshStatus(); closeDropdown(); }}>\n                <span className=\"item-icon\">ğŸ”„</span>\n                Refresh System Status\n              </button>\n              <div className=\"dropdown-separator\" />\n              <button className=\"dropdown-item\" onClick={showSystemInfo}>\n                <span className=\"item-icon\">â„¹ï¸</span>\n                System Information\n              </button>\n            </div>\n          )}\n        </div>\n        \n        {/* Help Menu */}\n        <div className=\"menu-item\">\n          <button \n            className=\"menu-button\"\n            onClick={() => toggleDropdown('help')}\n          >\n            Help\n          </button>\n          \n          {showDropdown === 'help' && (\n            <div className=\"dropdown-menu\">\n              <button className=\"dropdown-item\" onClick={showHelp}>\n                <span className=\"item-icon\">â“</span>\n                About AutoEditTATE\n              </button>\n              <button \n                className=\"dropdown-item\" \n                onClick={() => openExternalLink('https://github.com/your-org/autoedit-tate/docs')}\n              >\n                <span className=\"item-icon\">ğŸ“š</span>\n                Documentation\n              </button>\n              <button \n                className=\"dropdown-item\" \n                onClick={() => openExternalLink('https://github.com/your-org/autoedit-tate/issues')}\n              >\n                <span className=\"item-icon\">ğŸ›</span>\n                Report Issue\n              </button>\n              <div className=\"dropdown-separator\" />\n              <button className=\"dropdown-item\" onClick={closeDropdown}>\n                <span className=\"item-icon\">âŒ¨ï¸</span>\n                Keyboard Shortcuts\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* å³å´ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}\n      <div className=\"menu-actions\">\n        {/* ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */}\n        <div className=\"system-indicator\">\n          {systemStatus ? (\n            <span \n              className=\"status-dot healthy\"\n              title=\"System is healthy\"\n            >\n              â—\n            </span>\n          ) : (\n            <span \n              className=\"status-dot unknown\"\n              title=\"System status unknown\"\n            >\n              â—\n            </span>\n          )}\n        </div>\n        \n        {/* è¨­å®šãƒœã‚¿ãƒ³ */}\n        <button \n          className=\"action-button\"\n          onClick={onShowConfig}\n          title=\"Settings\"\n        >\n          âš™ï¸\n        </button>\n      </div>\n      \n      {/* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯é ˜åŸŸ */}\n      {showDropdown && (\n        <div className=\"dropdown-backdrop\" onClick={closeDropdown} />\n      )}\n    </div>\n  );\n}